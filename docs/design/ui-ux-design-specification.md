# UI/UX設計仕様書 - Diopside VTuberファンサイト

## 1. 概要

本仕様書は、Diopsideプロジェクトにおける統一されたUI/UXデザインの設計方針と設定値を定義します。実装技術に依存しない形で、デザインシステムの基準値と選定理由を明確化し、開発時に遵守すべき原則を示します。

### 1.1 設計哲学

**ユーザビリティファースト**: VTuberファンという特定のユーザー層に最適化したUXを提供
- ファンは動画コンテンツを中心とした情報収集が主目的
- 長時間の閲覧セッションを想定した疲労軽減設計
- コンテンツの発見性を重視したナビゲーション設計

**包括的アクセシビリティ**: 多様なユーザー環境への対応
- 年齢層の幅広いファンコミュニティを考慮
- 支援技術利用者への配慮
- 多言語対応（日本語メイン、英語サポート）

**持続可能な設計**: 長期運用を見据えたメンテナンス性
- 拡張可能なデザインシステム
- 技術変化に柔軟に対応できる抽象化レベル
- 運用コストを抑制する自動化前提の設計

### 1.2 技術選定方針

**フレームワーク選定基準**:
- SEO要件: VTuberコンテンツの検索性確保のためSSR必須
- パフォーマンス: 画像・動画多用サイトでの高速表示
- 開発効率: 小規模チームでの迅速な開発・保守
- 将来性: エコシステムの成熟度と継続性

## 2. カラーシステム

### 2.1 プライマリカラー: 白雪巴パープル (#6E3FE7)

**選定理由**:
- 白雪巴さんの公式イメージカラーとの一致
- 高貴さと神秘性を表現する紫系統の色彩心理学的効果
- VTuber界隈で人気の色調（個性と親しみやすさの両立）
- 長時間閲覧時の視覚的負担軽減（適度な彩度）

**使用基準**:
- 主要なアクション（再生ボタン、リンク、フォーカス状態）
- ブランディング要素（ロゴ、メインナビゲーション、ヘッダー）
- ステータス表示（ライブ配信中、新着動画、お気に入り）
- 強調表示（選択状態、アクティブ状態）

**コントラスト要件**:
- 白背景との組み合わせ: 4.9:1（AA基準クリア）
- ライトグレー背景との組み合わせ: 4.2:1（AA基準クリア）
- 使用禁止: 赤系・オレンジ系背景（色覚異常対応）

**カラーバリエーション**:
- Primary-50: #f4f0ff （背景、ハイライト）
- Primary-100: #e7deff （軽いアクセント）
- Primary-200: #d1c0ff （ホバー状態）
- Primary-300: #b898ff （非アクティブ状態）
- Primary-400: #9c6eff （セカンダリアクション）
- Primary-500: #6E3FE7 （メインカラー）
- Primary-600: #5e35c7 （アクティブ状態）
- Primary-700: #4f2ba7 （プレス状態）
- Primary-800: #402287 （ダーク要素）
- Primary-900: #321a67 （最暗）

### 2.2 セカンダリカラー: コンプリメンタリーグリーン (#3FE76E)

**選定理由**:
- プライマリパープルの補色関係による色彩調和
- 成功・完了状態との自然な関連性
- プライマリカラーを引き立てる対比効果
- VTuberファンサイトにふさわしい活発な印象

**使用基準**:
- 成功メッセージ、完了状態の表示
- 補助的なアクション（サブボタン、タグ）
- データの可視化（チャート、統計）
- セカンダリナビゲーション要素

### 2.3 アクセントカラー: スカイブルー (#00B4D8)

**選定理由**:
- プライマリパープルとの三角色相調和
- 情報伝達に適した冷静で信頼性のある色調
- YouTubeサムネイルとの視覚的競合を避ける色選択

**使用基準**:
- 情報メッセージ、ヘルプテキスト
- リンクテキスト（プライマリカラーと使い分け）
- データ表示（グラフ、統計値）
- 中性的な状態表示

### 2.4 ニュートラルカラー: グレースケール

**グレー値の設定根拠**:
- Gray-50 (#f9fafb): 背景色、カード背景
- Gray-100 (#f3f4f6): セクション区切り、軽い境界線
- Gray-200 (#e5e7eb): フォーム要素の境界線
- Gray-400 (#9ca3af): プレースホルダーテキスト
- Gray-600 (#4b5563): セカンダリテキスト
- Gray-800 (#1f2937): プライマリテキスト

**設計原則**:
- 隣接するグレー値は最小2段階の差を保つ
- テキストとして使用する場合は必ずコントラスト比を検証
- ダークモード対応時は反転可能な値を選択

### 2.5 セマンティックカラー

**Success (#10b981)**:
- 選定理由: 自然な緑色で安心感を提供
- 使用場面: 成功メッセージ、完了状態、ポジティブフィードバック

**Warning (#f59e0b)**:
- 選定理由: 注意を引くが攻撃的でないオレンジ
- 使用場面: 警告メッセージ、確認が必要な操作

**Error (#ef4444)**:
- 選定理由: 明確なエラー認識のための赤色
- 使用場面: エラーメッセージ、削除操作、危険な操作

**Info (#00B4D8)**:
- 選定理由: アクセントカラーと統一した情報色
- 使用場面: 情報メッセージ、ヘルプテキスト、説明

## 3. タイポグラフィシステム

### 3.1 フォントファミリー選定

**メインフォント: Inter + Noto Sans JP**

**選定理由**:
- Inter: 高い可読性、多様なウェイト、モダンな印象
- Noto Sans JP: 日本語との調和、Google Fontsでの安定供給
- システムフォント階層: フォールバック戦略の確保

**実装要件**:
- フォント読み込み: preload属性で初期表示速度を確保
- フォールバック: system-ui → sans-serif で確実性を保証
- サブセット化: 使用文字のみ読み込みでパフォーマンス最適化

### 3.2 フォントサイズスケール

**スケール設定: 1.125倍（Major Second）**

**サイズ定義とその根拠**:
- 12px (0.75rem): キャプション、法的情報 - 最小可読サイズ
- 14px (0.875rem): UI要素、補助テキスト - モバイル標準サイズ  
- 16px (1rem): 本文テキスト - Web標準、アクセシビリティ基準
- 18px (1.125rem): リード文 - 読みやすさ向上
- 20px (1.25rem): 小見出し - 階層の明確化
- 24px (1.5rem): セクション見出し - 視覚的重要度
- 30px (1.875rem): ページ見出し - 主要情報の強調
- 36px (2.25rem): メイン見出し - ランディング要素
- 48px (3rem): ヒーロー見出し - 最大インパクト

**行間設定原則**:
- 本文: 1.5倍（読みやすさの黄金比）
- 見出し: 1.2倍（視覚的引き締め）
- UI要素: 1.25倍（コンパクト性と可読性の両立）

### 3.3 フォントウェイト体系

**ウェイト選定とその意図**:
- 400 (Normal): 本文テキスト - 長文読書での疲労軽減
- 500 (Medium): 強調テキスト - 情報の重要度表現
- 600 (Semibold): 見出し - 階層構造の明確化
- 700 (Bold): アクション要素 - 操作性の向上

**使用制限**:
- 300以下は使用禁止（モバイルでの可読性低下）
- 800以上は使用禁止（威圧的印象、ブランドとの不調和）

## 4. スペーシングシステム

### 4.1 基本単位: 4px (0.25rem)

**選定理由**:
- デバイス解像度との親和性（多くのデバイスで4の倍数が最適）
- Googleマテリアルデザインとの整合性
- 計算しやすい数値体系

### 4.2 スペーシングスケール

**8px体系の採用根拠**:
- 4px: 最小間隔 - 密接な関係の要素間
- 8px: 基本間隔 - 関連要素間
- 12px: 小セクション間隔 - フォーム要素、リスト項目
- 16px: 標準間隔 - 段落、カード内要素
- 24px: セクション間隔 - 明確な区切り
- 32px: 大セクション間隔 - 主要コンテンツブロック
- 48px: ページセクション間隔 - 視覚的休息
- 64px: 主要区切り - ヘッダーとメイン等

**適用原則**:
- 関係性の近さに比例してスペースを小さく
- 視覚的な重要度に応じてスペースを調整
- モバイルでは1段階小さく、デスクトップでは1段階大きく

## 5. ブレークポイント設計

### 5.1 デバイス想定とブレークポイント

**320px-639px (Mobile)**:
- 対象: iPhone SE、小型Android端末
- 設計方針: 単一カラム、垂直スタック、大きなタッチターゲット

**640px-767px (Mobile Landscape)**:
- 対象: 横向きスマートフォン
- 設計方針: 2カラムレイアウト開始、ナビゲーション改善

**768px-1023px (Tablet)**:
- 対象: iPad、Android タブレット
- 設計方針: 2-3カラム、サイドバー表示、拡張ナビゲーション

**1024px-1279px (Desktop)**:
- 対象: 一般的なPC、ノートPC
- 設計方針: 3-4カラム、フル機能UI、ホバー操作

**1280px+ (Large Desktop)**:
- 対象: 大画面PC、外部モニター
- 設計方針: 最大幅制限、余白活用、拡張機能

### 5.2 ブレークポイント選定理由

**640px**: iPhone 12 Pro Max横向き対応
**768px**: iPad縦向き標準、タブレット市場の主流
**1024px**: 一般的なノートPC解像度
**1280px**: 多くのデスクトップ環境の最小幅

## 6. レイアウト原則

### 6.1 モバイルファースト設計

**基本方針**:
- 最小画面（320px）での機能完全性を保証
- 段階的機能拡張（Progressive Enhancement）
- タッチ操作前提のUI設計

**実装要件**:
- タッチターゲット: 最小44x44px（Apple HIG準拠）
- スクロール領域: コンテンツ高さの制限なし
- ナビゲーション: 親指で届く範囲に主要操作配置

### 6.2 レスポンシブグリッド原則

**グリッド設計**:
- モバイル: 4カラムグリッド（余白考慮）
- タブレット: 8カラムグリッド（標準的なタブレット幅）
- デスクトップ: 12カラムグリッド（柔軟なレイアウト対応）

**余白管理**:
- モバイル: 16px（最小限の快適性）
- タブレット: 24px（視覚的余裕）
- デスクトップ: 32px（情報整理の明確化）

### 6.3 コンテナ最大幅

**設定値: 1280px**

**選定理由**:
- 読みやすい行長の維持（45-75文字/行）
- 大画面での情報散逸防止
- 一般的なデザインパターンとの整合性
- パフォーマンス（画像サイズ最適化の基準）

## 7. インタラクションガイドライン

### 7.1 アニメーション設計原則

**タイミング設定**:
- マイクロインタラクション: 150ms（即座の反応感）
- ページ遷移: 300ms（状態変化の認識）
- ローディング: 500ms以上（明確な処理表示）

**イージング選択**:
- ease-out: ユーザー操作の開始（クリック、ホバー）
- ease-in: 自動的な終了動作（モーダル閉じ、消失）
- ease-in-out: 状態変化（展開・折りたたみ）

### 7.2 フォーカス管理

**フォーカス表示**:
- アウトライン幅: 2px（明確な視認性）
- アウトライン色: プライマリカラー（ブランド一貫性）
- オフセット: 2px（要素との明確な分離）

**タブ順序原則**:
- 論理的順序: 左上から右下への自然な流れ
- スキップリンク: メインコンテンツへの直接アクセス
- フォーカストラップ: モーダル内での循環

### 7.3 ローディング状態

**表示閾値**:
- 200ms未満: ローディング表示なし
- 200ms-1000ms: スケルトンローディング
- 1000ms以上: プログレスバーまたはスピナー

**スケルトン設計**:
- 実コンテンツの形状模擬
- アニメーション: 左から右への波形（1.5秒周期）
- 明度: 背景色から20%明るい色

## 8. アクセシビリティ基準

### 8.1 色彩アクセシビリティ

**コントラスト比要件**:
- 通常テキスト: 4.5:1以上（WCAG AA）
- 大きなテキスト（18px+）: 3:1以上
- UI要素: 3:1以上
- 目標: AAA基準（7:1）の達成

**色覚対応**:
- 情報伝達で色のみに依存しない
- 形状、テキスト、アイコンによる補完
- 色覚異常シミュレーションでの検証必須

### 8.2 キーボードアクセシビリティ

**操作要件**:
- すべての機能がキーボードのみで操作可能
- タブ順序の論理性
- ショートカットキーの提供（主要機能）

**実装基準**:
- フォーカス可能要素の明確な表示
- Escキーでの操作キャンセル
- Enterキー・スペースキーでの決定操作

### 8.3 スクリーンリーダー対応

**構造マークアップ**:
- セマンティックHTML要素の適切な使用
- 見出し階層（h1-h6）の論理的構造
- ランドマーク要素による画面構造の明確化

**ARIA属性活用**:
- 動的コンテンツのaria-live設定
- 状態変化のaria-expanded, aria-selected表示
- 説明的なaria-label, aria-describedby提供

## 9. パフォーマンス設計基準

### 9.1 読み込み速度目標

**Core Web Vitals基準**:
- LCP (Largest Contentful Paint): 2.5秒以下
- FID (First Input Delay): 100ms以下  
- CLS (Cumulative Layout Shift): 0.1以下

**画像最適化**:
- WebP形式の優先使用
- 適切なサイズの複数解像度提供
- 遅延読み込み（Intersection Observer）

### 9.2 バンドルサイズ管理

**JavaScript制限**:
- 初期バンドル: 100KB以下（gzip圧縮後）
- 追加チャンク: 50KB以下
- 使用しない機能の除外（Tree Shaking）

**CSS最適化**:
- 未使用CSS除去（PurgeCSS等）
- Critical CSS のインライン化
- フォント表示最適化（font-display: swap）

## 10. 実装時遵守事項

### 10.1 必須チェック項目

**リリース前検証**:
- [ ] 全ブレークポイントでのレイアウト確認
- [ ] キーボードのみでの全機能操作確認
- [ ] スクリーンリーダーでのナビゲーション確認
- [ ] 色覚異常シミュレーションでの情報伝達確認
- [ ] Core Web Vitals基準値クリア
- [ ] 複数ブラウザでの動作確認

### 10.2 禁止事項

**実装制限**:
- インラインスタイルの使用禁止
- !important の多用禁止（緊急時のみ許可）
- 固定ピクセル値の多用禁止（相対単位を優先）
- アクセシビリティ属性の省略禁止
- 意味のないdiv要素の濫用禁止

### 10.3 推奨プラクティス

**開発効率化**:
- コンポーネントライブラリの積極活用
- デザイントークンの一元管理
- 自動テストによる品質保証
- ビジュアルリグレッションテストの導入
- パフォーマンス監視の継続実施

### 10.4 メンテナンス方針

**定期見直し項目**:
- ユーザビリティテスト結果の反映（四半期）
- アクセシビリティ基準の更新確認（半年）
- デザイントレンドとの整合性確認（年1回）
- パフォーマンス基準値の再評価（年1回）

## 11. コンポーネント設計指針

### 11.1 ボタンコンポーネント

**プライマリボタン**:
- 背景色: Primary-500 (#6E3FE7)
- テキスト色: White (#ffffff)
- ホバー状態: Primary-600 (#5e35c7)
- アクティブ状態: Primary-700 (#4f2ba7)
- 無効状態: Primary-300 (#b898ff) + 透明度50%

**セカンダリボタン**:
- 背景色: Transparent
- 境界線: Primary-500 (#6E3FE7) 1px
- テキスト色: Primary-500 (#6E3FE7)
- ホバー状態: Primary-50 (#f4f0ff) 背景
- アクティブ状態: Primary-100 (#e7deff) 背景

**ゴーストボタン**:
- 背景色: Transparent
- テキスト色: Gray-600 (#4b5563)
- ホバー状態: Gray-100 (#f3f4f6) 背景
- フォーカス状態: Primary-500 アウトライン

**サイズ仕様**:
- Small: height 32px, padding 8px 12px, font-size 14px
- Medium: height 40px, padding 10px 16px, font-size 16px
- Large: height 48px, padding 12px 20px, font-size 18px

**アクセシビリティ要件**:
- 最小タッチターゲット: 44x44px
- フォーカス表示: 2px Primary-500 アウトライン
- 無効状態の明確な視覚表現
- aria-label または明確なテキストラベル必須

### 11.2 カードコンポーネント

**基本カード**:
- 背景色: White (#ffffff)
- 境界線: Gray-200 (#e5e7eb) 1px
- 角丸: 8px
- シャドウ: 0 1px 3px rgba(0,0,0,0.12)
- ホバー時シャドウ: 0 4px 6px rgba(0,0,0,0.15)

**動画カード**:
- サムネイル比率: 16:9 固定
- タイトル: 最大2行表示、overflow時は省略記号
- メタ情報: 日付、再生時間、視聴回数
- ホバー時: 軽微な上昇エフェクト（2px transform）

**インタラクティブ状態**:
- ホバー: 軽微な影の拡張とY軸移動
- フォーカス: Primary-500 のアウトライン表示
- 選択状態: Primary-100 の背景色変更

### 11.3 フォームコンポーネント

**入力フィールド**:
- 高さ: 40px (Medium標準)
- 境界線: Gray-300 (#d1d5db) 1px
- フォーカス時: Primary-500 (#6E3FE7) 2px 境界線
- エラー時: Error (#ef4444) 境界線
- 成功時: Success (#10b981) 境界線

**ラベル設計**:
- フォントサイズ: 14px (0.875rem)
- フォントウェイト: 500 (Medium)
- マージン: bottom 4px
- 必須項目: アスタリスク (*)を Primary-500 で表示

### 11.4 ナビゲーションコンポーネント

**メインナビゲーション**:
- 背景色: White with Primary-500 accent
- アクティブ状態: Primary-500 背景 + White テキスト
- ホバー状態: Primary-100 背景
- フォント: Semibold (600)

**ブレッドクラム**:
- セパレーター: " / " Gray-400 色
- 現在ページ: Primary-500 色 + Semibold
- リンク: Gray-600 + ホバー時 Primary-500

## 12. YouTubeサムネイル表示設計

### 12.1 サムネイル表示原則

**アスペクト比の統一**:
- YouTube標準: 16:9 比率を厳密に維持
- 最小表示サイズ: 320px × 180px（モバイル）
- 推奨表示サイズ: 400px × 225px（デスクトップ）
- 最大表示サイズ: 640px × 360px（詳細ページ）

**画質とパフォーマンス**:
- 高画質サムネイル（hqdefault）を優先使用
- WebP形式への変換対応（ブラウザサポート時）
- 遅延読み込み（Intersection Observer）の実装
- プレースホルダー表示（グレーグラデーション）

### 12.2 サムネイル配置パターン

**グリッド表示**:
- モバイル: 1カラム（全幅）
- タブレット: 2-3カラム
- デスクトップ: 3-4カラム
- 大画面: 4-5カラム（最大1280px コンテナ内）

**リスト表示**:
- サムネイル: 固定160px × 90px（左側）
- メタ情報: 右側に配置
- 行間: 16px
- モバイル時: サムネイル120px × 68px

### 12.3 サムネイルオーバーレイ

**再生時間表示**:
- 位置: 右下角から4px マージン
- 背景: rgba(0,0,0,0.7) + 4px border-radius
- テキスト: 12px White font
- パディング: 2px 4px

**ライブ配信インジケーター**:
- 位置: 左上角から4px マージン
- 背景: Primary-500 (#6E3FE7)
- テキスト: "LIVE" 10px White bold
- パディング: 4px 6px
- アニメーション: 軽微な点滅効果

**ホバーオーバーレイ**:
- 背景: rgba(110,63,231,0.1) （Primary-500 半透明）
- 再生アイコン: 中央配置、White色
- サイズ: 48px × 48px
- トランジション: 200ms ease-out

### 12.4 サムネイル読み込み戦略

**段階的読み込み**:
1. プレースホルダー表示（即座）
2. 低画質サムネイル読み込み（500ms以内）
3. 高画質サムネイル置換（バックグラウンド）

**エラーハンドリング**:
- 読み込み失敗時: グレーの No Image プレースホルダー
- 再試行ロジック: 3回まで自動リトライ
- フォールバック: YouTubeデフォルトサムネイルAPI

### 12.5 アクセシビリティ対応

**代替テキスト**:
- 形式: "動画タイトル のサムネイル画像"
- 英語併記: "(Thumbnail: Video Title)"
- 読み上げ時間考慮: 簡潔な表現

**キーボードナビゲーション**:
- Tab順序: 左上から右下の自然な流れ
- フォーカス表示: Primary-500 の明確なアウトライン
- Enter/Space: 動画再生ページへ遷移

**スクリーンリーダー対応**:
- 再生時間のaria-label対応
- ライブ配信状態の音声説明
- グリッド/リスト表示切り替え時の状態通知

---

この設計仕様書に基づき、統一されたユーザー体験の提供と長期的な保守性を確保したUI/UX実装を行ってください。設定値の変更や追加要件がある場合は、必ずこの仕様書を更新し、チーム全体への共有を徹底してください。